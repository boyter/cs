## Task: Implement Intent-Aware Path-Based Test Dampening

1. **Objective**: Prevent test files from outranking implementation code by default, while allowing them to rise to the top if the user explicitly searches for test-related terms.

2. **Heuristic Logic**:
   Define a `isTestFile(path string)` helper that returns true if:
   - Filename (case-insensitive) contains `_test.`, `.test.`, `.spec.`, or `test_`.
   - Filename ends with `Test` or `Tests` before the extension (e.g., `UserServiceTest.java`).
   - The path contains segments like `/tests/`, `/test/`, or `/__tests__/`.

3. **Intent Detection**:
   Before the ranking loop, check if the query contains "Test-Signaling" keywords:
   - **Keywords**: `test`, `assert`, `expect`, `mock`, `stub`, `bench`, `suite`, `spec`, `should`.
   - Set a flag `hasTestIntent = true` if any query term matches these keywords.

4. **Ranking Integration**:
   - **Config**: `TestPenalty` (Default: `0.4`).
   - **Logic**: In the final ranking loop, if `isTestFile(file.Path)` is true:
      - If `hasTestIntent` is **false**: Multiply the score by `config.TestPenalty` (e.g., `0.4`).
      - If `hasTestIntent` is **true**: Multiply the score by a boost (e.g., `1.5`) instead.



5. **Why this works**:
   It maintains the "Implementation First" philosophy for general searches (like `auth`) but switches to "Test First" the moment the user adds a qualifier (like `auth test` or `auth assert`). This prevents the 0.4 penalty from being "annoying" when you are actually trying to find your specs.